; Supervisor config pentru a rula SSH, Next.js și Promtail în același container

[supervisord]
nodaemon=true ; Rulează supervisor în prim-plan, esențial pentru Docker

[program:sshd]
command=/usr/sbin/sshd -D ; Pornește serverul SSH
autorestart=true

[program:nextjs]
command=npm run dev ; Pornește serverul de dezvoltare Next.js
directory=/app ; Rulează comanda din acest director
autorestart=true
stdout_logfile=/app/logs/nextjs.log ; Capturează log-urile standard
stderr_logfile=/app/logs/nextjs.err.log ; Capturează log-urile de eroare

[program:promtail]
command=/usr/bin/promtail -config.file=/etc/promtail/promtail-config.yaml
autorestart=true